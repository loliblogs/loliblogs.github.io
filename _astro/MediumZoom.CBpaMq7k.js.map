{"version":3,"file":"MediumZoom.CBpaMq7k.js","sources":["../../node_modules/.pnpm/medium-zoom-next@2.0.1/node_modules/medium-zoom-next/dist/medium-zoom.esm.js","../../src/components/MediumZoom.tsx"],"sourcesContent":["/*! medium-zoom-next 2.0.1 | MIT License | https://github.com/SpasiboKojima/medium-zoom-next */\nconst isSupported = (node) => node.tagName === 'IMG';\nconst isNodeList = (selector) => Object.prototype.isPrototypeOf.call(NodeList.prototype, selector);\nconst isNode = (selector) => typeof selector === 'object' && 'nodeType' in selector && selector.nodeType === 1;\nconst isSvg = (image) => {\n    const source = image.currentSrc || image.src;\n    return source.slice(-4).toLowerCase() === '.svg';\n};\nconst getImagesFromSelector = (selector) => {\n    try {\n        if (Array.isArray(selector)) {\n            return selector.filter(isSupported);\n        }\n        if (isNodeList(selector)) {\n            return Array.from(selector).filter(isSupported);\n        }\n        if (typeof selector === 'string') {\n            return Array.from(document.querySelectorAll(selector)).filter(isSupported);\n        }\n        if (isNode(selector)) {\n            return [selector].filter(isSupported);\n        }\n        return [];\n    }\n    catch {\n        throw new TypeError('The provided selector is invalid.\\n' +\n            'Expects a CSS selector, a Node element, a NodeList or an array.\\n' +\n            'See: https://github.com/francoischalifour/medium-zoom');\n    }\n};\nconst createOverlay = () => {\n    const overlay = document.createElement('div');\n    overlay.classList.add('medium-zoom-overlay');\n    return overlay;\n};\nconst cloneTarget = (template) => {\n    const { top, left, width, height } = template.getBoundingClientRect();\n    const clone = template.cloneNode();\n    const scrollTop = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n    const scrollLeft = window.scrollX || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n    clone.removeAttribute('id');\n    clone.style.position = 'absolute';\n    clone.style.top = `${top + scrollTop}px`;\n    clone.style.left = `${left + scrollLeft}px`;\n    clone.style.width = `${width}px`;\n    clone.style.height = `${height}px`;\n    clone.style.transform = '';\n    return clone;\n};\nconst createCustomEvent = (type, params) => {\n    const eventParams = {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined,\n        ...params,\n    };\n    return new CustomEvent(type, eventParams);\n};\nconst getTemplate = (template) => {\n    if (!template)\n        return null;\n    const tmpl = isNode(template) ? template : document.querySelector(template);\n    if (!tmpl || tmpl.tagName !== 'TEMPLATE') {\n        throw new Error('The specified template option is not a <template> element.');\n    }\n    return tmpl;\n};\n\nconst mediumZoom = (selector, options = {}) => {\n    const controller = new AbortController();\n    const _handleResize = () => {\n        const browserScale = window.visualViewport?.scale ?? 1;\n        if (isScaling || browserScale > 1) {\n            return;\n        }\n        close();\n    };\n    const _handleScroll = () => {\n        if (isAnimating || !active.original) {\n            return;\n        }\n        const browserScale = window.visualViewport?.scale ?? 1;\n        if (isScaling || browserScale > 1) {\n            return;\n        }\n        const currentScroll = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {\n            setTimeout(close, 150);\n        }\n    };\n    const _handleTouchStart = (e) => {\n        if (e.touches.length > 1) {\n            isScaling = true;\n            return;\n        }\n    };\n    const _handleTouchEnd = () => {\n        isScaling = false;\n    };\n    const _handleKeyDown = (event) => {\n        const key = event.key;\n        // Close if escape or Tab key is pressed\n        if (key === 'Escape' || key === 'Esc' || key === 'Tab') {\n            close();\n        }\n    };\n    const update = (options = {}) => {\n        const newOptions = options;\n        if (options.container && options.container instanceof Object) {\n            newOptions.container = {\n                ...(zoomOptions.container instanceof Object ? zoomOptions.container : {}),\n                ...options.container,\n            };\n        }\n        zoomOptions = { ...zoomOptions, ...newOptions, template: getTemplate(options.template) };\n        images.forEach((image) => {\n            image.dispatchEvent(createCustomEvent('medium-zoom:update', {\n                detail: { zoom },\n            }));\n        });\n        return zoom;\n    };\n    const clone = (options = {}) => mediumZoom({ ...zoomOptions, ...options });\n    const attach = (...selectors) => {\n        const newImages = selectors.reduce((imagesAccumulator, currentSelector) => imagesAccumulator.concat(getImagesFromSelector(currentSelector)), []);\n        newImages\n            .filter((newImage) => images.indexOf(newImage) === -1)\n            .forEach((newImage) => {\n            images.push(newImage);\n            newImage.classList.add('medium-zoom-image');\n            newImage.addEventListener('click', () => toggle({ target: newImage }), { signal: controller.signal });\n        });\n        eventListeners.forEach(({ type, listener, options }) => {\n            newImages.forEach((image) => {\n                image.addEventListener(type, listener, options);\n            });\n        });\n        return zoom;\n    };\n    const detach = (...selectors) => {\n        if (active.zoomed) {\n            close();\n        }\n        const imagesToDetach = selectors.length > 0\n            ? selectors.reduce((imagesAccumulator, currentSelector) => imagesAccumulator.concat(getImagesFromSelector(currentSelector)), [])\n            : images;\n        imagesToDetach.forEach((image) => {\n            image.classList.remove('medium-zoom-image');\n            image.dispatchEvent(createCustomEvent('medium-zoom:detach', {\n                detail: { zoom },\n            }));\n        });\n        images = images.filter((image) => imagesToDetach.indexOf(image) === -1);\n        return zoom;\n    };\n    const on = (type, listener, options = {}) => {\n        images.forEach((image) => {\n            image.addEventListener(`medium-zoom:${type}`, listener, options);\n        });\n        eventListeners.push({ type: `medium-zoom:${type}`, listener, options });\n        return zoom;\n    };\n    const off = (type, listener, options = {}) => {\n        images.forEach((image) => {\n            image.removeEventListener(`medium-zoom:${type}`, listener, options);\n        });\n        eventListeners = eventListeners.filter((eventListener) => !(eventListener.type === `medium-zoom:${type}` && eventListener.listener.toString() === listener.toString()));\n        return zoom;\n    };\n    const _animate = () => {\n        let container = {\n            width: document.documentElement.clientWidth,\n            height: document.documentElement.clientHeight,\n            left: 0,\n            top: 0,\n            right: 0,\n            bottom: 0,\n        };\n        let viewportWidth;\n        let viewportHeight;\n        if (zoomOptions.container) {\n            if (zoomOptions.container instanceof Object && 'top' in zoomOptions.container) {\n                // The container is given as an object with properties like width, height, left, top\n                container = {\n                    ...container,\n                    ...zoomOptions.container,\n                };\n                // We need to adjust custom options like container.right or container.bottom\n                viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;\n                viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;\n            }\n            else if (zoomOptions.container instanceof HTMLElement || typeof zoomOptions.container === 'string') {\n                // The container is given as an element\n                const zoomContainer = isNode(zoomOptions.container)\n                    ? zoomOptions.container\n                    : document.querySelector(zoomOptions.container);\n                if (zoomContainer) {\n                    const { width, height, left, top } = zoomContainer.getBoundingClientRect();\n                    container.width = width;\n                    container.height = height;\n                    container.left = left;\n                    container.top = top;\n                }\n            }\n        }\n        viewportWidth ??= container.width - zoomOptions.margin * 2;\n        viewportHeight ??= container.height - zoomOptions.margin * 2;\n        const zoomTarget = active.zoomed || active.original;\n        if (!zoomTarget || !active.zoomed)\n            return;\n        const isSvgImage = isSvg(zoomTarget);\n        const naturalWidth = isSvgImage ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;\n        const naturalHeight = isSvgImage ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;\n        const { top, left, width, height } = zoomTarget.getBoundingClientRect();\n        const scaleX = Math.min(Math.max(width, naturalWidth), viewportWidth) / width;\n        const scaleY = Math.min(Math.max(height, naturalHeight), viewportHeight) / height;\n        const scale = Math.min(scaleX, scaleY);\n        const translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;\n        const translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;\n        const transform = `scale(${scale}) translate(${translateX}px, ${translateY}px) translateZ(0)`;\n        active.zoomed.style.transform = transform;\n    };\n    const _prepareZoomedImage = (original, options = {}) => new Promise((resolve) => {\n        const zoomed = cloneTarget(original);\n        // If the selected <img> tag is inside a <picture> tag, set the\n        // currently-applied source as the cloned `src=` attribute.\n        // (as these might differ, or src= might be unset in some cases)\n        if (original.parentElement?.tagName === 'PICTURE' && original.currentSrc) {\n            zoomed.src = original.currentSrc;\n        }\n        if (options.isChange) {\n            zoomed.classList.add('medium-zoom-image--opened', 'medium-zoom-image--change');\n        }\n        else {\n            zoomed.classList.add('medium-zoom-image--opened');\n        }\n        const hdSource = original.getAttribute('data-zoom-src');\n        if (hdSource) {\n            const zoomedHd = zoomed.cloneNode();\n            // Reset the `scrset` property or the HD image won't load.\n            zoomedHd.removeAttribute('srcset');\n            zoomedHd.removeAttribute('sizes');\n            // Remove loading attribute so the browser can load the image normally\n            zoomedHd.removeAttribute('loading');\n            zoomedHd.src = hdSource;\n            zoomedHd.onerror = () => {\n                clearInterval(getZoomTargetSize);\n                console.warn(`Unable to reach the zoom image target ${zoomedHd?.src}`);\n                active.zoomed = zoomed;\n                resolve(zoomed);\n            };\n            // We need to access the natural size of the full HD\n            // target as fast as possible to compute the animation.\n            const getZoomTargetSize = setInterval(() => {\n                if (zoomedHd.complete) {\n                    clearInterval(getZoomTargetSize);\n                    resolve(zoomedHd);\n                }\n            }, 10);\n        }\n        else if (original.hasAttribute('srcset')) {\n            // If an image has a `srcset` attribuet, we don't know the dimensions of the\n            // zoomed (HD) image (like when `data-zoom-src` is specified).\n            // Therefore the approach is quite similar.\n            const zoomedHd = zoomed.cloneNode();\n            // Resetting the sizes attribute tells the browser to load the\n            // image best fitting the current viewport size, respecting the `srcset`.\n            zoomedHd.removeAttribute('sizes');\n            // In Firefox, the `loading` attribute needs to be set to `eager` (default\n            // value) for the load event to be fired.\n            zoomedHd.removeAttribute('loading');\n            // Wait for the load event of the hd image. This will fire if the image\n            // is already cached.\n            const loadEventListener = () => {\n                zoomedHd.removeEventListener('load', loadEventListener);\n                resolve(zoomedHd);\n            };\n            zoomedHd.addEventListener('load', loadEventListener);\n        }\n        else {\n            resolve(zoomed);\n        }\n    });\n    const open = ({ target } = {}) => new Promise((resolve) => {\n        if ((target && images.indexOf(target) === -1) || images.length === 0) {\n            resolve(zoom);\n            return;\n        }\n        if (active.zoomed) {\n            resolve(zoom);\n            return;\n        }\n        const _handleOpenEnd = () => {\n            isAnimating = false;\n            if (!active.zoomed || !active.original)\n                return resolve(zoom);\n            active.zoomed.removeEventListener('transitionend', _handleOpenEnd);\n            active.original.dispatchEvent(createCustomEvent('medium-zoom:opened', {\n                detail: { zoom },\n            }));\n            resolve(zoom);\n        };\n        const _finishOpen = (imageElement) => {\n            document.body.appendChild(imageElement);\n            imageElement.addEventListener('click', close);\n            imageElement.addEventListener('transitionend', _handleOpenEnd);\n            active.original?.classList.add('medium-zoom-image--hidden');\n            window.requestAnimationFrame(() => {\n                document.body.classList.add('medium-zoom--opened');\n            });\n            active.zoomed = imageElement;\n            _animate();\n        };\n        if (target) {\n            // The zoom was triggered manually via a click\n            active.original = target;\n        }\n        else {\n            // The zoom was triggered programmatically, select the first image in the list\n            [active.original] = images;\n        }\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:open', {\n            detail: { zoom },\n        }));\n        scrollTop = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        isAnimating = true;\n        document.body.appendChild(overlay);\n        if (zoomOptions.template) {\n            active.template = document.createElement('div');\n            active.template.appendChild(zoomOptions.template.content.cloneNode(true));\n            document.body.appendChild(active.template);\n        }\n        _prepareZoomedImage(active.original, {}).then(_finishOpen);\n    });\n    const change = ({ target }) => new Promise((resolve) => {\n        if ((target && images.indexOf(target) === -1) || images.length === 0) {\n            resolve(zoom);\n            return;\n        }\n        if (isAnimating || !active.original || !active.zoomed) {\n            resolve(zoom);\n            return;\n        }\n        const _finishOpen = (imageElement) => {\n            imageElement.addEventListener('click', close);\n            document.body.appendChild(imageElement);\n            if (active.zoomed) {\n                document.body.removeChild(active.zoomed);\n            }\n            active.zoomed = imageElement;\n            active.original?.classList.add('medium-zoom-image--hidden');\n            _animate();\n            active.original?.dispatchEvent(createCustomEvent('medium-zoom:changed', {\n                detail: { zoom },\n            }));\n            isAnimating = false;\n            resolve(zoom);\n        };\n        active.original.classList.remove('medium-zoom-image--hidden');\n        if (target) {\n            // The zoom was triggered manually via a click\n            active.original = target;\n        }\n        else {\n            // The zoom was triggered programmatically, select the first image in the list\n            [active.original] = images;\n        }\n        scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n        isAnimating = true;\n        _prepareZoomedImage(active.original, { isChange: true }).then(_finishOpen);\n    });\n    const close = () => new Promise((resolve) => {\n        if (isAnimating || !active.original || !active.zoomed) {\n            resolve(zoom);\n            return;\n        }\n        const _handleCloseEnd = () => {\n            if (!active.original || !active.zoomed)\n                return resolve(zoom);\n            active.original.classList.remove('medium-zoom-image--hidden');\n            document.body.removeChild(active.zoomed);\n            document.body.removeChild(overlay);\n            active.zoomed.classList.remove('medium-zoom-image--opened');\n            if (active.template) {\n                document.body.removeChild(active.template);\n            }\n            isAnimating = false;\n            active.zoomed.removeEventListener('transitionend', _handleCloseEnd);\n            active.original.dispatchEvent(createCustomEvent('medium-zoom:closed', {\n                detail: { zoom },\n            }));\n            active.original = null;\n            active.zoomed = null;\n            active.template = null;\n            resolve(zoom);\n        };\n        isAnimating = true;\n        document.body.classList.remove('medium-zoom--opened');\n        active.zoomed.classList.remove('medium-zoom-image--change');\n        active.zoomed.style.transform = '';\n        // Fade out the template so it's not too abrupt\n        if (active.template) {\n            active.template.style.transition = 'opacity 150ms';\n            active.template.style.opacity = '0';\n        }\n        active.original.dispatchEvent(createCustomEvent('medium-zoom:close', {\n            detail: { zoom },\n        }));\n        active.zoomed.addEventListener('transitionend', _handleCloseEnd);\n    });\n    const toggle = ({ target } = {}) => {\n        if (active.original) {\n            return close();\n        }\n        return open({ target });\n    };\n    let images = [];\n    let eventListeners = [];\n    let isAnimating = false;\n    let isScaling = false;\n    let scrollTop = 0;\n    let zoomOptions = {\n        margin: 0,\n        scrollOffset: 40,\n        container: null,\n        template: null,\n    };\n    const active = {\n        original: null,\n        zoomed: null,\n        template: null,\n    };\n    const zoom = {\n        open,\n        change,\n        close,\n        toggle,\n        update,\n        clone,\n        attach,\n        detach,\n        on,\n        off,\n        getOptions: () => zoomOptions,\n        getImages: () => images,\n        getZoomedImage: () => active.original,\n        destroy: () => controller.abort(),\n    };\n    let optsToApply;\n    // Determine initial zoomOptions based on selector or options\n    if (Object.prototype.toString.call(selector) === '[object Object]') {\n        optsToApply = selector;\n    }\n    else {\n        optsToApply = options;\n        if (selector || typeof selector === 'string') {\n            // to process empty string as a selector\n            attach(selector);\n        }\n    }\n    zoomOptions = {\n        ...zoomOptions,\n        ...optsToApply,\n        template: getTemplate(optsToApply.template),\n    };\n    const overlay = createOverlay();\n    overlay.addEventListener('click', close);\n    document.addEventListener('keydown', _handleKeyDown, { signal: controller.signal });\n    window.addEventListener('scroll', _handleScroll, { passive: true, signal: controller.signal });\n    window.addEventListener('touchstart', _handleTouchStart, { passive: true, signal: controller.signal });\n    window.addEventListener('touchend', _handleTouchEnd, { passive: true, signal: controller.signal });\n    window.addEventListener('touchcancel', _handleTouchEnd, { passive: true, signal: controller.signal });\n    window.addEventListener('resize', _handleResize, { passive: true, signal: controller.signal });\n    return zoom;\n};\n\nexport { mediumZoom as default };\n","import { useEffect } from 'react';\nimport mediumZoom from 'medium-zoom-next';\n\nexport default function MediumZoom() {\n  useEffect(() => {\n    // 初始化 zoom 实例\n    const zoom = mediumZoom('#content img');\n\n    // 监听内容解密事件，重新附加解密后的图片\n    const handleContentDecrypted = () => {\n      // 直接传递选择器字符串，zoom 会自动查找并附加新图片\n      zoom.attach('#content img');\n    };\n\n    window.addEventListener('content-decrypted', handleContentDecrypted);\n\n    // 清理函数\n    return () => {\n      zoom.detach();\n      window.removeEventListener('content-decrypted', handleContentDecrypted);\n    };\n  }, []);\n\n  return null;\n}\n"],"names":["isSupported","node","tagName","isNode","selector","nodeType","getImagesFromSelector","Array","isArray","filter","Object","prototype","isPrototypeOf","call","NodeList","isNodeList","from","document","querySelectorAll","TypeError","createCustomEvent","type","params","eventParams","bubbles","cancelable","detail","undefined","CustomEvent","getTemplate","template","tmpl","querySelector","Error","mediumZoom","options","controller","AbortController","_handleTouchEnd","isScaling","attach","selectors","newImages","reduce","imagesAccumulator","currentSelector","concat","newImage","images","indexOf","forEach","push","classList","add","addEventListener","toggle","target","signal","eventListeners","listener","image","zoom","_animate","viewportWidth","viewportHeight","container","width","documentElement","clientWidth","height","clientHeight","left","top","right","bottom","zoomOptions","margin","HTMLElement","zoomContainer","getBoundingClientRect","zoomTarget","active","zoomed","original","isSvgImage","currentSrc","src","slice","toLowerCase","naturalWidth","naturalHeight","scaleX","Math","min","max","scaleY","scale","transform","style","_prepareZoomedImage","Promise","resolve","clone","cloneNode","scrollTop","window","scrollY","body","scrollLeft","scrollX","removeAttribute","position","cloneTarget","parentElement","isChange","hdSource","getAttribute","zoomedHd","onerror","clearInterval","getZoomTargetSize","console","warn","setInterval","complete","hasAttribute","loadEventListener","removeEventListener","open","length","_handleOpenEnd","isAnimating","dispatchEvent","appendChild","overlay","createElement","content","then","imageElement","close","requestAnimationFrame","_handleCloseEnd","remove","removeChild","transition","opacity","scrollOffset","change","pageYOffset","update","newOptions","detach","imagesToDetach","on","off","eventListener","toString","getOptions","getImages","getZoomedImage","destroy","abort","optsToApply","createOverlay","event","key","browserScale","visualViewport","currentScroll","abs","setTimeout","passive","e","touches","MediumZoom","useEffect","handleContentDecrypted"],"mappings":"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","x_google_ignoreList":[0]}