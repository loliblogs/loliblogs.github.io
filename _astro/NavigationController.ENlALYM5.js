import"./compat.module.tsE_fuxu.js";import{y as e}from"./hooks.module.sGwOz5s6.js";import"./preact.module.C1TiR6ni.js";const t=()=>(e(()=>{const e=new AbortController,{signal:t}=e,a={navMenu:document.getElementById("nav-menu"),aside:document.getElementById("aside"),asideMask:document.getElementById("aside-mask")},n=(e,t,a)=>{e?.classList.toggle(t,a)};return(()=>{const e=window.location.pathname;document.querySelectorAll("[data-nav-item]").forEach(t=>{const a=t.getAttribute("data-path"),n="false"!==t.getAttribute("data-recursive");if(!a)return;let s;s=n?e===a||"/"!==a&&e.startsWith(a+"/"):e===a,s&&t.classList.add("bg-active")})})(),document.getElementById("open-menus")?.addEventListener("click",e=>{e.stopPropagation(),n(a.navMenu,"show")},{signal:t}),document.getElementById("open-panel")?.addEventListener("click",e=>{e.stopPropagation(),n(a.aside,"aside-panel-show"),n(a.asideMask,"aside-mask-visible")},{signal:t}),document.addEventListener("click",e=>{const t=document.getElementById("nav");t&&!t.contains(e.target)&&n(a.navMenu,"show",!1)},{signal:t}),a.navMenu?.querySelectorAll("[data-nav-item]").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<1024&&n(a.navMenu,"show",!1)},{signal:t})}),a.asideMask?.addEventListener("click",()=>{n(a.aside,"aside-panel-show",!1),n(a.asideMask,"aside-mask-visible",!1)},{signal:t}),()=>{e.abort()}},[]),null);export{t as default};
//# sourceMappingURL=NavigationController.ENlALYM5.js.map
