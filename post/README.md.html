<!DOCTYPE html><html class="h-full scroll-smooth" data-overlayscrollbars-initialize lang=zh-CN><head><meta charset=UTF-8><title>README | loli&#39;s diary</title><meta content=lolifamily name=author><meta content="blog, astro, modern, web" name=keywords><meta content="import Readme from '@/../README.md';

<Readme />" name=description><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://giscus.app rel=dns-prefetch><link href=https://giscus.app rel=preconnect crossorigin><meta content=true name=astro-view-transitions-enabled><meta content=animate name=astro-view-transitions-fallback><script src=/_astro/ClientRouter.astro_astro_type_script_index_0_lang.Bh3WP0Dl.js type=module></script><link href=/sitemap-index.xml rel=sitemap><link href=/rss.xml rel=alternate title="loli's diary" type=application/rss+xml><link href="data:image/png;base64,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" rel=icon sizes=32x32 /><link href=/_astro/favicon-192x192.Bv4p7RsF.png rel=icon sizes=192x192 /><link href=/_astro/favicon-180x180.AwXaWHlL.png rel=apple-touch-icon sizes=180x180 /><meta content=#ffffff name=theme-color media="(prefers-color-scheme: light)"><meta content=#2b2e32 name=theme-color media="(prefers-color-scheme: dark)"><meta content="light dark" name=color-scheme><link href=/_astro/index.CGvpXlu2.css rel=stylesheet><script src=/_astro/page.Bzmu1Py9.js type=module></script><style>[data-astro-transition-scope=astro-iv2bzgrw-1]{view-transition-name:navigation}@layer astro{::view-transition-old(navigation){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(navigation){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(navigation){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(navigation){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-iv2bzgrw-1],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-iv2bzgrw-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-iv2bzgrw-1],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-iv2bzgrw-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-iv2bzgrw-1],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-iv2bzgrw-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-iv2bzgrw-1],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-iv2bzgrw-1]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style><style>[data-astro-transition-scope=astro-if6j4wsp-2]{view-transition-name:aside}@layer astro{::view-transition-new(aside){animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}[data-astro-transition=back]::view-transition-new(aside){animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-if6j4wsp-2],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-if6j4wsp-2]{animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-if6j4wsp-2],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-if6j4wsp-2]{animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}</style><style>[data-astro-transition-scope=astro-6ammvjqd-3]{view-transition-name:content}@layer astro{::view-transition-new(content){animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}[data-astro-transition=back]::view-transition-new(content){animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-6ammvjqd-3],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-6ammvjqd-3]{animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-6ammvjqd-3],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-6ammvjqd-3]{animation-duration:.3s;animation-timing-function:ease-out;animation-name:fade-in-down}</style><style>[data-astro-transition-scope=astro-g72a3ls3-4]{view-transition-name:footer}@layer astro{::view-transition-old(footer){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}::view-transition-new(footer){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back]::view-transition-old(footer){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back]::view-transition-new(footer){animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}}[data-astro-transition-fallback=old] [data-astro-transition-scope=astro-g72a3ls3-4],[data-astro-transition-fallback=old][data-astro-transition-scope=astro-g72a3ls3-4]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition-fallback=new] [data-astro-transition-scope=astro-g72a3ls3-4],[data-astro-transition-fallback=new][data-astro-transition-scope=astro-g72a3ls3-4]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}[data-astro-transition=back][data-astro-transition-fallback=old] [data-astro-transition-scope=astro-g72a3ls3-4],[data-astro-transition=back][data-astro-transition-fallback=old][data-astro-transition-scope=astro-g72a3ls3-4]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeOut}[data-astro-transition=back][data-astro-transition-fallback=new] [data-astro-transition-scope=astro-g72a3ls3-4],[data-astro-transition=back][data-astro-transition-fallback=new][data-astro-transition-scope=astro-g72a3ls3-4]{animation-duration:180ms;animation-timing-function:cubic-bezier(0.76,0,0.24,1);animation-fill-mode:both;animation-name:astroFadeIn}</style></head><body class="font-sans bg-surface leading-relaxed text-primary"><main class="flex flex-col h-[var(--viewport-height)]"><header class="flex top-0 bottom-0 fixed left-0 max-lg:h-0 max-lg:static max-lg:w-full w-[var(--spacing-header)]" id=header><nav class="shrink-0 bg-nav h-full max-lg:fixed max-lg:h-auto max-lg:w-full max-lg:z-10 relative w-[var(--spacing-nav)]" id=nav><div class="items-center justify-center h-11 bg-nav hidden max-lg:flex" id=nav-mobile-bar><button aria-label=打开侧边栏 class="flex items-center transition-colors duration-100 ease-in-out hover:bg-active justify-center text-primary bg-transparent border-none cursor-pointer focus:bg-active h-11 m-0 outline-none p-0 shrink-0 w-11" id=open-panel type=button><svg fill=currentColor height=1.25rem viewBox="0 0 256 256" width=1.25rem xmlns=http://www.w3.org/2000/svg><path d=M213.66,66.34l-40-40A8,8,0,0,0,168,24H88A16,16,0,0,0,72,40V56H56A16,16,0,0,0,40,72V216a16,16,0,0,0,16,16H168a16,16,0,0,0,16-16V200h16a16,16,0,0,0,16-16V72A8,8,0,0,0,213.66,66.34ZM168,216H56V72h76.69L168,107.31v84.53c0,.06,0,.11,0,.16s0,.1,0,.16V216Zm32-32H184V104a8,8,0,0,0-2.34-5.66l-40-40A8,8,0,0,0,136,56H88V40h76.69L200,75.31Zm-56-32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,152Zm0,32a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h48A8,8,0,0,1,144,184Z></path></svg></button><h1 class="overflow-hidden text-ellipsis whitespace-nowrap flex-1 m-0 min-w-0 text-2xl text-center">loli&#39;s diary</h1><button aria-label=切换菜单 class="flex items-center transition-colors duration-100 ease-in-out hover:bg-active justify-center text-primary bg-transparent border-none cursor-pointer focus:bg-active h-11 m-0 outline-none p-0 shrink-0 w-11" id=open-menus type=button><svg fill=currentColor height=1.25rem viewBox="0 0 256 256" width=1.25rem xmlns=http://www.w3.org/2000/svg><path d=M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z></path></svg></button></div><div class="flex justify-center [&#38;.no-transition]:!transition-none flex-col h-full max-lg:[&#38;.show]:!h-11 max-lg:[&#38;.show]:!opacity-100 max-lg:[&#38;.show]:transition-[height_0.35s_cubic-bezier(0.4,0,0.2,1),opacity_0.25s_ease-in_0.1s] max-lg:h-0 max-lg:opacity-0 max-lg:overflow-hidden max-lg:transition-[height_0.35s_cubic-bezier(0.4,0,0.2,1),opacity_0.25s_ease-out]" id=nav-menu><div class="flex flex-col max-h-full max-lg:flex-nowrap max-lg:justify-center max-lg:overflow-x-auto max-lg:overflow-y-hidden max-lg:text-center max-lg:whitespace-nowrap overflow-y-auto" data-overlayscrollbars-initialize data-nav-menu-scroll><a href=/ class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/ data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">首页 </span></a><a href=/oi class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/oi data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">OI </span></a><a href=/category class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/category data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">分类 </span></a><a href=/tag class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/tag data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">标签 </span></a><a href=/archive class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/archive data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">归档 </span></a><a href=/rss.xml class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/rss.xml data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">订阅 </span></a><a href=/about class="flex items-center transition-colors no-underline duration-100 ease-in-out flex-shrink-0 h-[var(--spacing-nav-height)] hover:bg-active justify-center max-lg:align-top max-lg:h-11 max-lg:inline-block max-lg:leading-11 max-lg:px-5 max-lg:text-base text-primary" data-nav-item data-path=/about data-recursive=true><span class="overflow-hidden text-ellipsis whitespace-nowrap inline-block max-lg:inline max-lg:text-inherit">关于</span></a></div></div></nav><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(self.Astro||(self.Astro={})).idle=(e,t)=>{let i=async()=>{await(await e())()},l="object"==typeof t.value?t.value:void 0,o={timeout:null==l?void 0:l.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,o):setTimeout(i,o.timeout||200)},window.dispatchEvent(new Event("astro:idle"))</script><script>(()=>{var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);{let t={0:t=>s(t),1:t=>n(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(n(t)),5:t=>new Set(n(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},r=e=>{let[r,n]=e;return r in t?t[r](n):void 0},n=t=>t.map(r),s=t=>"object"!=typeof t||null===t?t:Object.fromEntries(Object.entries(t).map(([t,e])=>[t,r(e)]));class i extends HTMLElement{constructor(){super(...arguments),e(this,"Component"),e(this,"hydrator"),e(this,"hydrate",async()=>{var t;if(!this.hydrator||!this.isConnected)return;let e=null==(t=this.parentElement)?void 0:t.closest("astro-island[ssr]");if(e)return void e.addEventListener("astro:hydrate",this.hydrate,{once:!0});let r,n=this.querySelectorAll("astro-slot"),i={},o=this.querySelectorAll("template[data-astro-template]");for(let t of o){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("data-astro-template")||"default"]=t.innerHTML,t.remove())}for(let t of n){let e=t.closest(this.tagName);null!=e&&e.isSameNode(this)&&(i[t.getAttribute("name")||"default"]=t.innerHTML)}try{r=this.hasAttribute("props")?s(JSON.parse(this.getAttribute("props"))):{}}catch(t){let e=this.getAttribute("component-url")||"<unknown>",r=this.getAttribute("component-export");throw r&&(e+=` (export ${r})`),console.error(`[hydrate] Error parsing props for component ${e}`,this.getAttribute("props"),t),t}await this.hydrator(this)(this.Component,r,i,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))}),e(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(this.hasAttribute("await-children")&&"interactive"!==document.readyState&&"complete"!==document.readyState){let t=()=>{document.removeEventListener("DOMContentLoaded",t),e.disconnect(),this.childrenConnectedCallback()},e=new MutationObserver(()=>{var e;(null==(e=this.lastChild)?void 0:e.nodeType)===Node.COMMENT_NODE&&"astro:end"===this.lastChild.nodeValue&&(this.lastChild.remove(),t())});e.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",t)}else this.childrenConnectedCallback()}async childrenConnectedCallback(){let t=this.getAttribute("before-hydration-url");t&&await import(t),this.start()}async start(){let t=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(void 0!==Astro[e])try{await Astro[e](async()=>{let t=this.getAttribute("renderer-url"),[e,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),t?import(t):()=>()=>{}]),n=this.getAttribute("component-export")||"default";if(n.includes(".")){this.Component=e;for(let t of n.split("."))this.Component=this.Component[t]}else this.Component=e[n];return this.hydrator=r,this.hydrate},t,this)}catch(t){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,t)}else window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0})}attributeChangedCallback(){this.hydrate()}}e(i,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",i)}})()</script><astro-island client=idle component-export=default component-url=/_astro/NavigationController.B1rsA8L7.js opts={&quot;name&quot;:&quot;NavigationController&quot;,&quot;value&quot;:true} props={} renderer-url=/_astro/client.BHuAVbXb.js ssr uid=xclnb></astro-island><aside class="border-line relative bg-surface-aside border-r h-full max-lg:[&#38;.aside-panel-show]:!pointer-events-auto max-lg:bg-transparent max-lg:block max-lg:fixed max-lg:left-0 max-lg:pointer-events-none max-lg:top-0 max-lg:w-full max-lg:z-[90] w-[var(--spacing-aside)]" id=aside><div class="max-lg:[&#38;.aside-mask-visible]:!opacity-100 hidden max-lg:[&#38;.aside-mask-visible]:!pointer-events-auto max-lg:absolute max-lg:bg-overlay max-lg:block max-lg:inset-0 max-lg:opacity-0 max-lg:pointer-events-none max-lg:transition-opacity" id=aside-mask></div><div class="flex relative flex-col h-full max-lg:-translate-x-full max-lg:[.aside-panel-show_&#38;]:translate-x-0 max-lg:bg-surface-aside max-lg:duration-300 max-lg:ease-in-out max-lg:max-w-sm max-lg:min-w-[var(--spacing-aside-min)] max-lg:transition-transform max-lg:w-4/5 max-lg:will-change-[transform] w-full" id=aside-inner><div class="bg-border/30 absolute duration-300 h-1 left-0 opacity-0 pointer-events-none right-0 top-0 transition-opacity will-change-[opacity]" aria-hidden=true id=reading-progress-container><div class="h-full bg-gradient-to-r duration-150 ease-out from-primary origin-left to-secondary transition-[width] w-[var(--progress,0%)] will-change-[width]" id=reading-progress-bar></div></div><div class="pb-4 flex-shrink-0 max-lg:p-4 pt-8 px-6"><div class="relative w-full" data-search-container><div class=relative><input aria-label=搜索 autocomplete=off class="border-line bg-surface block appearance-none border box-border focus:outline-none focus:ring-2 focus:ring-line h-9 peer px-3 py-2 rounded-md text-muted text-sm w-full" data-search-input id=search-input placeholder=" " type=search><div class="flex items-center gap-2 absolute duration-200 h-9 left-2 peer-[:not(:placeholder-shown)]:opacity-0 peer-focus:opacity-0 pointer-events-none right-3 text-muted top-0 transition-opacity"><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z></path></svg> <span class=text-sm>搜索</span></div><div class="overflow-hidden bg-surface border-line absolute border hidden left-0 mt-2 right-0 rounded-md shadow-lg top-full z-50" data-search-dropdown><a href="/search?q=" class="items-center transition-colors gap-2 active:bg-muted/20 border-b border-line font-medium hover:bg-muted/10 px-4 py-3" data-global-search data-index=0><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z></path></svg> <span class="gap-0 mr-auto" data-search-keyword></span> <svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z></path></svg></a><div class="overflow-x-hidden overflow-y-auto max-h-[min(var(--search-space),max(calc(var(--search-space)*0.4),var(--search-min-h)))]" data-overlayscrollbars-initialize data-searchresults-container><div data-search-results-wrapper></div></div></div></div></div><astro-island client=idle component-export=default component-url=/_astro/SearchBoxClient.ZCLJTDAc.js opts={&quot;name&quot;:&quot;SearchBoxClient&quot;,&quot;value&quot;:true} props={&quot;searchUrl&quot;:[0,&quot;/search&quot;]} renderer-url=/_astro/client.BHuAVbXb.js ssr uid=1vaDQJ></astro-island></div><div class="flex-1 min-h-0 overflow-y-auto overflow-x-hidden" data-overlayscrollbars-initialize data-toc-container><div class="h-full max-lg:px-4 px-6"><nav class=py-4 id=toc aria-label=目录><h2 class="border-line border-b font-bold mb-4 opacity-80 pb-2 text-2xl text-primary">目录</h2><div><a href=#refined-starter-guide class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-3" data-toc-id=refined-starter-guide><span class="items-center transition-colors justify-center shrink-0 font-semibold h-5 inline-flex rounded-full text-surface text-xs w-5" data-toc-level=top>1 </span><span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">Refined Starter Guide </span></a><a href=#-quick-start class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-quick-start><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">⚡ Quick Start </span></a><a href=#-browser-support class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-browser-support><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">🌐 Browser Support </span></a><a href=#-project-structure class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-project-structure><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">🚀 Project Structure </span></a><a href=#-frontmatter class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-frontmatter><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">📝 Frontmatter </span></a><a href=#-mdx-markdown--jsx class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-mdx-markdown--jsx><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">🧩 MDX (Markdown + JSX) </span></a><a href=#-configuration class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-configuration><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">⚙ Configuration </span></a><a href=#-encryption class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-encryption><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">🔐 Encryption </span></a><a href=#-mathjax class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-mathjax><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">🧮 MathJax </span></a><a href=#-want-to-learn-more class="flex items-center transition-colors no-underline gap-2 group hover:bg-hover hover:text-primary py-1.5 relative rounded-md text-secondary pl-7" data-toc-id=-want-to-learn-more><span class="shrink-0 transition-colors rounded-full h-1.5 w-1.5" data-toc-level=sub></span> <span class="overflow-hidden text-ellipsis whitespace-nowrap flex-1">👀 Want to learn more?</span></a></div></nav></div></div></div></aside></header><div class="flex overflow-y-auto flex-1 max-lg:ml-0 max-lg:pb-1.5 max-lg:pt-[4.25rem] max-lg:px-4 min-h-0 ml-[var(--spacing-header)] pb-2 pt-8 px-8" id=content data-astro-transition-scope=astro-6ammvjqd-3 data-overlayscrollbars-initialize><div class="flex flex-col w-full max-w-[var(--spacing-content-max)] min-h-full mx-auto" id=wrapper><div class=flex-grow><article><header class="border-line border-b mb-8 pb-4"><h1 class="mb-4 text-primary font-normal leading-tight max-lg:text-3xl text-4xl">README</h1><div class="flex items-center flex-wrap gap-4 text-muted text-sm"><div class="flex items-center gap-1.5"><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM112,184a8,8,0,0,1-16,0V132.94l-4.42,2.22a8,8,0,0,1-7.16-14.32l16-8A8,8,0,0,1,112,120Zm56-8a8,8,0,0,1,0,16H136a8,8,0,0,1-6.4-12.8l28.78-38.37A8,8,0,1,0,145.07,132a8,8,0,1,1-13.85-8A24,24,0,0,1,176,136a23.76,23.76,0,0,1-4.84,14.45L152,176ZM48,80V48H72v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80Z></path></svg> <a href="/archive?focus=2025-10-06" class="transition-colors hover:text-primary"><time datetime=2025-10-06T00:00:00.000Z>2025-10-06</time></a></div><div class="flex items-center gap-1.5"><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z></path></svg> <time datetime=2025-10-06T00:00:00.000Z>2025-10-06</time></div><div class="flex items-center gap-1.5"><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z></path></svg> <span>lolifamily</span></div></div></header><div class="leading-[1.8] my-8" id=markdown-body data-markdown data-pagefind-body=true><p><a href=./README-zh.md>中文 README</a></p><h1 id=refined-starter-guide>Refined Starter Guide</h1><p>This project refines and re-implements the excellent <a href=https://github.com/sanonz/hexo-theme-concise>sanonz/hexo-theme-concise</a> with Astro. Credit to the original theme; ideas, structure and styles are adapted for Astro’s content collections and routing.</p><h2 id=-quick-start>⚡ Quick Start</h2><p>Start here with the most common tasks:</p><ul><li>Clone and install</li></ul><div class=expressive-code><link href=/_astro/ec.21cj8.css rel=stylesheet><script src=/_astro/ec.p1z7b.js type=module></script><figure class="frame is-terminal"><figcaption class=header><span class=title></span><span class=sr-only>Terminal window</span></figcaption><pre class=wrap data-language=sh style=--ecMaxLine:46ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#FABD2F;--1:#86580F>git</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>clone</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>https://github.com/loliblogs/Refined</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#FABD2F;--1:#86580F>pnpm</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>install</span></div></div></code></pre><div class=copy><button data-code="git clone https://github.com/loliblogs/Refinedpnpm install" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><ul><li>Start the dev server</li></ul><div class=expressive-code><figure class="frame is-terminal"><figcaption class=header><span class=title></span><span class=sr-only>Terminal window</span></figcaption><pre class=wrap data-language=sh style=--ecMaxLine:8ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#FABD2F;--1:#86580F>pnpm</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>dev</span></div></div></code></pre><div class=copy><button data-code="pnpm dev" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Open <code>http://localhost:3000</code>.</p><ul><li>Build and preview</li></ul><div class=expressive-code><figure class="frame is-terminal"><figcaption class=header><span class=title></span><span class=sr-only>Terminal window</span></figcaption><pre class=wrap data-language=sh style=--ecMaxLine:26ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#FABD2F;--1:#86580F>pnpm</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>build</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#AB9C88;--1:#6B5F56>&#x26;&#x26;</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#FABD2F;--1:#86580F>pnpm</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>preview</span></div></div></code></pre><div class=copy><button data-code="pnpm build &#x26;&#x26; pnpm preview" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Open <code>http://localhost:4321</code>.</p><ul><li>Sync types (when content collections or schemas change; dev/build run type generation automatically)</li></ul><div class=expressive-code><figure class="frame is-terminal"><figcaption class=header><span class=title></span><span class=sr-only>Terminal window</span></figcaption><pre class=wrap data-language=sh style=--ecMaxLine:9ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#FABD2F;--1:#86580F>pnpm</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>sync</span></div></div></code></pre><div class=copy><button data-code="pnpm sync" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Note: dev/build already generate types; this is mainly for CI or after schema changes.</p><p>More commands are listed in the table below.</p><table><thead><tr><th align=left>Command</th><th align=left>Action</th></tr></thead><tbody><tr><td align=left><code>pnpm install</code></td><td align=left>Installs dependencies</td></tr><tr><td align=left><code>pnpm dev</code></td><td align=left>Starts local dev server at <code>localhost:3000</code></td></tr><tr><td align=left><code>pnpm dev:full</code></td><td align=left>Starts dev server with a full cold start (no cache)</td></tr><tr><td align=left><code>pnpm build</code></td><td align=left>Build your production site to <code>./dist/</code></td></tr><tr><td align=left><code>pnpm build:full</code></td><td align=left>Full clean build to <code>./dist/</code> and regenerate Pagefind index</td></tr><tr><td align=left><code>pnpm sync</code></td><td align=left>Synchronize Astro-generated types</td></tr><tr><td align=left><code>pnpm preview</code></td><td align=left>Preview your build locally at <code>localhost:4321</code></td></tr><tr><td align=left><code>pnpm typecheck</code></td><td align=left>Run type checks via Astro (Including .astro files!)</td></tr><tr><td align=left><code>pnpm lint</code></td><td align=left>Lint project files with ESLint</td></tr><tr><td align=left><code>pnpm lint:fix</code></td><td align=left>Automatically fix fixable ESLint issues</td></tr><tr><td align=left><code>pnpm astro ...</code></td><td align=left>Run CLI commands like <code>astro add</code>, <code>astro db</code></td></tr><tr><td align=left><code>pnpm astro -- --help</code></td><td align=left>Get help using the Astro CLI</td></tr></tbody></table><h2 id=-browser-support>🌐 Browser Support</h2><ul><li>Chrome 99+</li><li>Firefox 97+</li><li>Safari 15+ (iOS 15+)</li></ul><p>Notes:</p><ul><li>Windows: Works on Windows 7 and newer. Use the latest Chrome/Firefox available for Win7.</li><li>Android: Chrome requires Android 6.0+; Firefox works on Android 5.0+.</li></ul><h2 id=-project-structure>🚀 Project Structure</h2><p>Inside of your Astro project, you’ll see the following folders and files:</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=text style=--ecMaxLine:31ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>/</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── LICENSE</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>3</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── astro.config.ts</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>4</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── eslint.config.ts</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>5</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── ec.config.mjs</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>6</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── tsconfig.json</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>7</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── pagefind.yaml</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>8</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── package.json</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>9</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── pnpm-lock.yaml</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>10</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── pnpm-workspace.yaml</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>11</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── public/</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>12</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>├── db/</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>13</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>│   └── config.ts</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>14</div></div><div class=code><span style=--0:#ebdbb2;--1:#3c3836>└── src/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>15</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── content.config.ts</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>16</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── env.d.ts</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>17</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── assets/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>18</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── components/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>19</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   └── pages/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>20</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── config/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>21</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── site.config.tsx</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>22</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   └── comments.config.tsx</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>23</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── content/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>24</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── post/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>25</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── oi/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>26</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── page/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>27</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   └── oiPage/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>28</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── layouts/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>29</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── BaseLayout.astro</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>30</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   └── RSSLayout.astro</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>31</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── pages/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>32</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── index.astro</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>33</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── [...slug].astro</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>34</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── category/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>35</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── tag/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>36</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── oi/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>37</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   ├── rss.xml.ts</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>38</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>│   └── rss-styles.xsl.ts</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>39</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── plugins/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>40</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── styles/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>41</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>├── types/</span></div></div><div class=ec-line style=--ecIndent:4ch><div class=gutter><div class=ln aria-hidden=true>42</div></div><div class=code><span class=indent><span style=--0:#ebdbb2;--1:#3c3836>    </span></span><span style=--0:#ebdbb2;--1:#3c3836>└── utils/</span></div></div></code></pre><div class=copy><button data-code="/├── LICENSE├── astro.config.ts├── eslint.config.ts├── ec.config.mjs├── tsconfig.json├── pagefind.yaml├── package.json├── pnpm-lock.yaml├── pnpm-workspace.yaml├── public/├── db/│   └── config.ts└── src/    ├── content.config.ts    ├── env.d.ts    ├── assets/    ├── components/    │   └── pages/    ├── config/    │   ├── site.config.tsx    │   └── comments.config.tsx    ├── content/    │   ├── post/    │   ├── oi/    │   ├── page/    │   └── oiPage/    ├── layouts/    │   ├── BaseLayout.astro    │   └── RSSLayout.astro    ├── pages/    │   ├── index.astro    │   ├── [...slug].astro    │   ├── category/    │   ├── tag/    │   ├── oi/    │   ├── rss.xml.ts    │   └── rss-styles.xsl.ts    ├── plugins/    ├── styles/    ├── types/    └── utils/" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Astro uses file-based routing: any .astro, .md, .mdx, or .ts file under <code>src/pages</code> is exposed as a route based on its file path, and nested directories become nested URLs. Dynamic and catch-all routes such as <code>src/pages/[...slug].astro</code> and pagination patterns like <code>**/[page].astro</code> are supported. Server endpoints implemented as <code>.ts</code> files (for example <code>src/pages/rss.xml.ts</code>) export a handler returning a <code>Response</code> and are emitted as dynamic assets.</p><p>Content Collections are defined in <code>src/content.config.ts</code> via <code>defineCollection</code> and Zod schemas; each collection maps to a folder under <code>src/content/&#x3C;collection></code> where Markdown/MDX entries provide frontmatter validated at dev/build time. Strong types are generated for safe access and can be synchronized with <code>pnpm sync</code>, and content is queried with utilities like <code>getCollection('post')</code> in pages and components.</p><p>This project keeps routes thin in <code>src/pages</code>, implements reusable page templates under <code>src/components/pages</code>, shares layout chrome in <code>src/layouts</code>, centralizes site settings in <code>src/config</code>, and places rendering and taxonomy helpers in <code>src/utils</code>. Put only unreferenced files in <code>public</code>; any asset imported from code or Markdown (including images) can live under <code>src</code> (for example <code>src/assets</code>) and will be compressed and bundled. In Markdown/MDX, images can be referenced via relative paths or imports; any import-resolvable alias works, including <code>@/</code> which maps to <code>src</code> (configured in <code>tsconfig.json</code>).</p><h2 id=-frontmatter>📝 Frontmatter</h2><p>Content frontmatter is validated by <code>src/content.config.ts</code>. Collections <code>post</code> and <code>oi</code> share the same schema (title, dates, categories/tags and meta), while <code>page</code> and <code>oiPage</code> only require minimal fields like <code>title</code> and optional dates. The example below shows a typical Markdown entry with inline comments explaining each field. Both singular and plural keys are accepted for categories and tags, and multiple hierarchical values are supported by using <code>/</code> in a path-like notation.</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=md style=--ecMaxLine:106ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#AB9C88;--1:#6B5F56>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>title</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Building a Fast Astro Blog</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>3</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>description</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Optional, used for SEO summaries.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>4</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>excerpt</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Optional, short teaser for lists.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>5</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>date</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>2025-03-10</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>6</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>updated</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>2025-09-15</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>7</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>8</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># You can use either `category` or `categories`. Multiple values are supported.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>9</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Hierarchies are written with slashes, and you can mix multiple hierarchies.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>10</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>categories</span><span style=--0:#AB9C88;--1:#6B5F56>:</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=gutter><div class=ln aria-hidden=true>11</div></div><div class=code><span class=indent>  </span><span style=--0:#AB9C88;--1:#6B5F56>-</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Frontend/React</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=gutter><div class=ln aria-hidden=true>12</div></div><div class=code><span class=indent>  </span><span style=--0:#AB9C88;--1:#6B5F56>-</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>DevOps/Kubernetes</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>13</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>14</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># You can use either `tags` or `tag`. Multiple and hierarchical tags are supported.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>15</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>tags</span><span style=--0:#AB9C88;--1:#6B5F56>:</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=gutter><div class=ln aria-hidden=true>16</div></div><div class=code><span class=indent>  </span><span style=--0:#AB9C88;--1:#6B5F56>-</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>javascript</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=gutter><div class=ln aria-hidden=true>17</div></div><div class=code><span class=indent>  </span><span style=--0:#AB9C88;--1:#6B5F56>-</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>react/hooks</span></div></div><div class=ec-line style=--ecIndent:2ch><div class=gutter><div class=ln aria-hidden=true>18</div></div><div class=code><span class=indent>  </span><span style=--0:#AB9C88;--1:#6B5F56>-</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>kubernetes/networking</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>19</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>20</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Draft posts are rendered but excluded from production indexes/lists (e.g., home, archive).</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>21</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>draft</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>false</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>22</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>23</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Sticky is optional. Omitted defaults to 0. Higher numbers surface earlier; negatives push to the bottom.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>24</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>sticky</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>10</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>25</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>26</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Optional author override; falls back to site defaults if omitted.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>27</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>author</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Jane Doe</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>28</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>29</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Enables comment system if configured for the site.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>30</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>comments</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>true</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>31</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>32</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>## encryption-related fields are documented in a dedicated section later.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>33</div></div><div class=code><span style=--0:#AB9C88;--1:#6B5F56>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>34</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>35</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Intro paragraph for index pages.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>36</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>37</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Note: The read-more marker below only affects the home index when no </span><span style=--0:#AB9C88;--1:#6B5F56>`</span><span style=--0:#8EC07C;--1:#3A6C4D>excerpt</span><span style=--0:#AB9C88;--1:#6B5F56>`</span><span style=--0:#EBDBB2;--1:#3C3836> is set in frontmatter.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>38</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>39</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>::more</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>40</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>41</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Remaining content…</span></div></div></code></pre><div class=copy><button data-code="---title: Building a Fast Astro Blogdescription: Optional, used for SEO summaries.excerpt: Optional, short teaser for lists.date: 2025-03-10updated: 2025-09-15# You can use either &#x60;category&#x60; or &#x60;categories&#x60;. Multiple values are supported.# Hierarchies are written with slashes, and you can mix multiple hierarchies.categories:  - Frontend/React  - DevOps/Kubernetes# You can use either &#x60;tags&#x60; or &#x60;tag&#x60;. Multiple and hierarchical tags are supported.tags:  - javascript  - react/hooks  - kubernetes/networking# Draft posts are rendered but excluded from production indexes/lists (e.g., home, archive).draft: false# Sticky is optional. Omitted defaults to 0. Higher numbers surface earlier; negatives push to the bottom.sticky: 10# Optional author override; falls back to site defaults if omitted.author: Jane Doe# Enables comment system if configured for the site.comments: true## encryption-related fields are documented in a dedicated section later.---Intro paragraph for index pages.Note: The read-more marker below only affects the home index when no &#x60;excerpt&#x60; is set in frontmatter.::moreRemaining content…" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Excerpts and previews:</p><ul><li>description: Optional SEO summary; auto-generated from body if omitted.</li><li>excerpt: If present, used on all list pages (home/tag/category). If both <code>excerpt</code> and a read-more marker exist, excerpt wins (marker ignored). If absent: Home renders from body (before the first read-more marker if present; otherwise full body). Tag/Category pages show no body preview. If multiple read-more markers exist, only the first is respected.</li></ul><p>Read-more markers (use one of the following):</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=md style=--ecMaxLine:6ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>::more</span></div></div></code></pre><div class=copy><button data-code=::more data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Recommended syntax that works in both <code>.md</code> and <code>.mdx</code> files.</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=html style=--ecMaxLine:11ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>&#x3C;!--more--></span></div></div></code></pre><div class=copy><button data-code="<!--more-->" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Legacy syntax that only works in <code>.md</code> files; not supported in <code>.mdx</code> due to MDX parsing.</p><p>For a comprehensive guide to Markdown syntax and features supported in this project, see the live example: <a href=https://blog.lolifamily.js.org/post/markdown-example>Markdown Syntax Guide</a></p><p>This frontmatter maps directly to the Zod schemas in <code>src/content.config.ts</code>. Dates are coerced to <code>Date</code>. Categories and tags accept either a single string or an array; during processing they are normalized to arrays, and each string may represent a multi-level path such as <code>Frontend/React</code>. Draft entries still render but are hidden from index-style pages (like the home and archives) in production. <code>sticky</code> is optional (default 0). It controls pinning and sort priority in lists: larger values appear earlier; negative values explicitly sink to the bottom.</p><h2 id=-mdx-markdown--jsx>🧩 MDX (Markdown + JSX)</h2><p>MDX lets you write Markdown and JSX in the same file. This project enables MDX via <code>@astrojs/mdx</code> (see <code>astro.config.ts</code>). A few quick notes:</p><ul><li>MDX is supported alongside Markdown in content collections under <code>src/content/**</code>. You can typically rename existing <code>.md</code> files to <code>.mdx</code> and they will almost always work as‑is; the same frontmatter schema and generated types apply.</li><li>The same remark/rehype pipeline runs for MDX, including math support and Shiki syntax highlighting. See the MathJax section for details.</li><li>You can import and render <code>.astro</code> or <code>.tsx</code> components in MDX. Interactive components follow Astro’s standard client directives when needed.</li></ul><p>Example:</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=mdx style=--ecMaxLine:102ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#B8BB26;--1:#68640C>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#8EC07C;--1:#3A6C4D>title</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Using MDX</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>3</div></div><div class=code><span style=--0:#B8BB26;--1:#68640C>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>4</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>5</div></div><div class=code><span style=--0:#FC7565;--1:#9D0006>export</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#FE8019;--1:#AF3A03>const</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#84A699;--1:#076678>date</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#8EC07C;--1:#3A6C4D>=</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>2025-09-18</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>// frontmatter-equivalent; can be used for computations with {} below</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>6</div></div><div class=code><span style=--0:#FC7565;--1:#9D0006>export</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#FE8019;--1:#AF3A03>const</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#84A699;--1:#076678>tags</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#8EC07C;--1:#3A6C4D>=</span><span style=--0:#EBDBB2;--1:#3C3836> [</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>mdx</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#AB9C88;--1:#6B5F56>,</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>tips</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#EBDBB2;--1:#3C3836>] </span><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>// frontmatter-equivalent; can be used for computations</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>7</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>8</div></div><div class=code><span style=--0:#FC7565;--1:#9D0006>import</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#84A699;--1:#076678>MediumZoom</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#FC7565;--1:#9D0006>from</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>@/components/MediumZoom.tsx</span><span style=--0:#AB9C88;--1:#6B5F56>'</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>9</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>10</div></div><div class=code><span style=--0:#AB9C88;--0fw:bold;--1:#6B5F56;--1fw:bold>#</span><span style=--0:#FE8019;--0fw:bold;--1:#AF3A03;--1fw:bold> </span><span style=--0:#FABD2F;--0fw:bold;--1:#86580F;--1fw:bold>Hello MDX</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>11</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>12</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Published on </span><span style=--0:#B8BB26;--1:#68640C>{</span><span style=--0:#FE8019;--1:#AF3A03>new</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#FABD2F;--1:#86580F>Date</span><span style=--0:#EBDBB2;--1:#3C3836>(</span><span style=--0:#84A699;--1:#076678>date</span><span style=--0:#EBDBB2;--1:#3C3836>)</span><span style=--0:#AB9C88;--1:#6B5F56>.</span><span style=--0:#FABD2F;--1:#86580F>toLocaleDateString</span><span style=--0:#EBDBB2;--1:#3C3836>()</span><span style=--0:#B8BB26;--1:#68640C>}</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>13</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>14</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Tags: </span><span style=--0:#B8BB26;--1:#68640C>{</span><span style=--0:#84A699;--1:#076678>tags</span><span style=--0:#AB9C88;--1:#6B5F56>.</span><span style=--0:#FABD2F;--1:#86580F>join</span><span style=--0:#EBDBB2;--1:#3C3836>(</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>, </span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#EBDBB2;--1:#3C3836>)</span><span style=--0:#B8BB26;--1:#68640C>}</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>15</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>16</div></div><div class=code><span style=--0:#84A699;--1:#076678>&#x3C;</span><span style=--0:#EBDBB2;--1:#3C3836>MediumZoom </span><span style=--0:#84A699;--1:#076678>/></span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>17</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>18</div></div><div class=code><span style=--0:#B8BB26;--1:#68640C>```</span><span style=--0:#FABD2F;--1:#86580F>js</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>19</div></div><div class=code><span style=--0:#84A699;--1:#076678>console</span><span style=--0:#AB9C88;--1:#6B5F56>.</span><span style=--0:#FABD2F;--1:#86580F>log</span><span style=--0:#EBDBB2;--1:#3C3836>(</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#B8BB26;--1:#68640C>fenced code is syntax highlighted</span><span style=--0:#AB9C88;--1:#6B5F56>'</span><span style=--0:#EBDBB2;--1:#3C3836>)</span><span style=--0:#AB9C88;--1:#6B5F56>;</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>20</div></div><div class=code><span style=--0:#B8BB26;--1:#68640C>```</span></div></div></code></pre><div class=copy><button data-code="---title: Using MDX---export const date = &#x27;2025-09-18&#x27; // frontmatter-equivalent; can be used for computations with {} belowexport const tags = [&#x27;mdx&#x27;, &#x27;tips&#x27;] // frontmatter-equivalent; can be used for computationsimport MediumZoom from &#x27;@/components/MediumZoom.tsx&#x27;# Hello MDXPublished on {new Date(date).toLocaleDateString()}Tags: {tags.join(&#x27;, &#x27;)}<MediumZoom />&#x60;&#x60;&#x60;jsconsole.log(&#x27;fenced code is syntax highlighted&#x27;);&#x60;&#x60;&#x60;" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Learn more:</p><ul><li>Astro guide: <a href=https://docs.astro.build/en/guides/integrations-guide/mdx/ >MDX integration</a></li><li>MDX official docs: <a href=https://mdxjs.com/docs/ >mdxjs.com/docs</a></li></ul><h2 id=-configuration>⚙ Configuration</h2><p>Start with <code>astro.config.ts</code>. Set <code>site</code> to your canonical URL. This project now supports non-root bases (for example <code>base: '/blog/'</code>). Per-collection subpaths are handled via <code>basePath</code> in <code>src/config/site.config.tsx</code>.</p><p>Important rules for <code>basePath</code>:</p><ul><li>Provide a bare segment without leading or trailing slashes. Use <code>''</code> (empty) for the main blog, and for sections use values like <code>'oi'</code> (not <code>/oi</code> and not <code>oi/</code>).</li><li>Paths are composed as: <code>import.meta.env.BASE_URL</code> + <code>basePath</code>. For example, with <code>base = '/blog/'</code> and <code>basePath = 'oi'</code>, URLs become <code>/blog/oi/...</code>.</li></ul><p>The primary configuration lives in <code>src/config/site.config.tsx</code>. It provides per‑collection settings (e.g., <code>post</code> and <code>oi</code>) including site identity (title, subtitle, description, language), navigation menu, pagination, the collection‑level <code>basePath</code>, a global comments toggle, favicon links, and sensible defaults for encrypted content prompts. The file is heavily documented—skim the top for key options and consult the inline comments for the complete list.</p><p>Comments are wired through <code>src/config/comments.config.tsx</code>. Despite the name, this file is a component entry point, not a rigid schema: you can replace its contents with any comment provider (Giscus, Disqus, Gitalk, or a custom widget). It is rendered by the post page and respects <code>comments</code> in <code>site.config.tsx</code>; use the site’s <code>language</code> from <code>getSiteConfig()</code> to localize your widget. If you swap providers, keep the default export as a React component.</p><h2 id=-encryption>🔐 Encryption</h2><p>Encrypted posts use a password‑derived key to protect the rendered HTML. On the server, a 32‑byte key is derived with Argon2id (memory 64MB, time 3, parallelism 1) from a per‑post password and a unique salt, then the content is encrypted using AES‑256‑GCM with a random 12‑byte nonce. The encrypted payload is emitted as JSON that includes the salt, nonce and ciphertext with an authentication tag. On the client, a small web worker derives the same key from the password and salt, and the browser WebCrypto API performs authenticated decryption locally.</p><p>Implementation lives in <code>src/utils/encrypt-processor.ts</code> and <code>src/components/EncryptWrapper.astro</code> for server‑side encryption, <code>src/utils/argon2-worker.ts</code> and <code>src/components/DecryptClient.tsx</code> for client‑side derivation and decryption, <code>src/utils/argon2-cache.ts</code> for server key derivation and caching, and <code>db/config.ts</code> for the Astro DB table that stores encrypted derived keys and metadata. The post page integrates these pieces in <code>src/components/pages/PostPage.astro</code>.</p><p>To mark a post as protected, set encryption fields in frontmatter. The password itself is never stored in content; instead, secrets supply it at build or runtime.</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=md style=--ecMaxLine:75ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#AB9C88;--1:#6B5F56>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>title</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>Encrypted Example</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>3</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>date</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>2025-09-15</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>4</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>encrypted</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#D4899D;--1:#8F3F71>true</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>5</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Optional UI text; both fields are optional and fall back to site defaults</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>6</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># defined in src/config/site.config.tsx</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>7</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>prompt</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>This content is protected. Enter the password to view.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>8</div></div><div class=code><span style=--0:#8EC07C;--0fw:bold;--1:#3A6C4D;--1fw:bold>hint</span><span style=--0:#AB9C88;--1:#6B5F56>:</span><span style=--0:#EBDBB2;--1:#3C3836> </span><span style=--0:#B8BB26;--1:#68640C>The password you received privately.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>9</div></div><div class=code><span style=--0:#AB9C88;--1:#6B5F56>---</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>10</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>11</div></div><div class=code><span style=--0:#EBDBB2;--1:#3C3836>Body content will be encrypted at build time when served to the client.</span></div></div></code></pre><div class=copy><button data-code="---title: Encrypted Exampledate: 2025-09-15encrypted: true# Optional UI text; both fields are optional and fall back to site defaults# defined in src/config/site.config.tsxprompt: This content is protected. Enter the password to view.hint: The password you received privately.---Body content will be encrypted at build time when served to the client." data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>Server‑side secrets are read with <code>getSecret()</code> and must be provided via environment variables. On first install, the <code>postinstall</code> script attempts to copy <code>.env.example</code> to <code>.env</code> if <code>.env</code> is missing; otherwise copy it manually. Only <code>.env</code> is loaded locally. Define <code>SECRET_PASSWORDS</code>, <code>SECRET_ENCRYPTION_PASSWORD</code> and <code>SECRET_ENCRYPTION_SALT</code>. <code>SECRET_PASSWORDS</code> is a JSON object mapping <code>&#x3C;collection>:&#x3C;entry id></code> to the clear‑text password used to derive the per‑post key; the entry id includes the file extension relative to its collection directory (for example <code>src/content/post/encrypted-test.mdx</code> has the id <code>encrypted-test.mdx</code>). <code>SECRET_ENCRYPTION_PASSWORD</code> and <code>SECRET_ENCRYPTION_SALT</code> are used to HKDF‑derive an AES‑GCM key that encrypts derived keys at rest in the Astro DB cache.</p><div class=expressive-code><figure class=frame><figcaption class=header></figcaption><pre class=wrap data-language=dotenv style=--ecMaxLine:96ch><code><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>1</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Map content entries to their passwords. Keys are "&#x3C;collection>:&#x3C;entry id>".</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>2</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Examples:</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>3</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>#   post:encrypted-test.mdx   → src/content/post/encrypted-test.mdx</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>4</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic>#   oi:binary-search.md       → src/content/oi/binary-search.md</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>5</div></div><div class=code><span style=--0:#84A699;--1:#076678>SECRET_PASSWORDS</span><span style=--0:#8EC07C;--1:#3A6C4D>=</span><span style=--0:#B8BB26;--1:#68640C>'{"post:encrypted-test.mdx":"change-me","oi:binary-search.md":"change-me-too"}'</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>6</div></div><div class=code>
</div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>7</div></div><div class=code><span style=--0:#A89D91;--0fs:italic;--1:#6B6055;--1fs:italic># Used to derive an AES-GCM key (via HKDF) for encrypting cached derived keys.</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>8</div></div><div class=code><span style=--0:#84A699;--1:#076678>SECRET_ENCRYPTION_PASSWORD</span><span style=--0:#8EC07C;--1:#3A6C4D>=</span><span style=--0:#B8BB26;--1:#68640C>'please-generate-a-strong-random-string'</span></div></div><div class=ec-line><div class=gutter><div class=ln aria-hidden=true>9</div></div><div class=code><span style=--0:#84A699;--1:#076678>SECRET_ENCRYPTION_SALT</span><span style=--0:#8EC07C;--1:#3A6C4D>=</span><span style=--0:#B8BB26;--1:#68640C>'another-strong-random-string-or-base64'</span></div></div></code></pre><div class=copy><button data-code="# Map content entries to their passwords. Keys are &#x22;<collection>:<entry id>&#x22;.# Examples:#   post:encrypted-test.mdx   → src/content/post/encrypted-test.mdx#   oi:binary-search.md       → src/content/oi/binary-search.mdSECRET_PASSWORDS=&#x27;{&#x22;post:encrypted-test.mdx&#x22;:&#x22;change-me&#x22;,&#x22;oi:binary-search.md&#x22;:&#x22;change-me-too&#x22;}&#x27;# Used to derive an AES-GCM key (via HKDF) for encrypting cached derived keys.SECRET_ENCRYPTION_PASSWORD=&#x27;please-generate-a-strong-random-string&#x27;SECRET_ENCRYPTION_SALT=&#x27;another-strong-random-string-or-base64&#x27;" data-copied=Copied! title="Copy to clipboard"><div></div></button></div></figure></div><p>For local development, place these in <code>.env</code> (the <code>.env.example</code> file is just a template and not loaded). For Cloudflare Pages, configure the same names as project secrets (for example with <code>wrangler pages secret put SECRET_PASSWORDS</code>, and likewise for the other two). Secrets are never sent to the browser; only encrypted payloads are shipped, and decryption happens client‑side using the user‑entered password.</p><h2 id=-mathjax>🧮 MathJax</h2><p>Math rendering is handled in two layers. For Markdown/MDX content, math is parsed at the remark/rehype stage and converted to static HTML using a customized pipeline in <code>src/plugins</code>. The remark plugin <code>remark-math.ts</code> mirrors the official plugin and adds one small extension: when a single‑line inline math segment is wrapped by sufficiently wide <code>$</code> delimiters (configurable via <code>flowSingleLineMinDelimiter</code>), it is promoted to display mode by setting the resulting node’s class to <code>math-display</code>. The rehype plugin <code>rehype-mathjax.ts</code> keeps the same external behavior as upstream but is re‑implemented on top of MathJax v4; it converts math (including fenced ```math code blocks) to HTML, injects the generated stylesheet without font URLs, and defers font‑face CSS to <code>src/styles/mathjax.css</code> (imported by <code>src/styles/global.css</code>) for easier bundling.</p><p>For UI chrome like the Navigation and Sidebar, math may appear in dynamic strings (titles, excerpts, or generated lists). Those are processed by a singleton renderer in <code>src/utils/mathjax-singleton.ts</code>. It lazily initializes a single MathJax instance, caches processed HTML in production, and applies the same font‑CSS cleanup so that UI chrome matches the content pipeline.</p><h2 id=-want-to-learn-more>👀 Want to learn more?</h2><p>Check the <a href=https://docs.astro.build>Astro documentation</a> or join the <a href=https://astro.build/chat>Astro Discord</a>. For this project specifically, please use <a href=https://github.com/loliblogs/Refined/issues>Issues</a> for reproducible bugs, regressions, and well‑scoped feature requests. Use <a href=https://github.com/loliblogs/Refined/discussions>Discussions</a> for questions, how‑to help, ideas, design proposals, and general feedback—this keeps the issue tracker focused and actionable.</p><p>This is a personal project. Here, “personal” means good‑enough for my own use rather than a general‑purpose theme. To keep the code small, readable, and easy to maintain, some requests are intentionally out of scope:</p><ul><li>No i18n or multi‑locale routing. The <code>language</code> field only localizes built‑in UI text.</li><li>No feature toggle for MathJax; the math pipeline is built‑in. Disabling it requires code edits.</li><li>No plugin system, theme preset matrix, or exhaustive switches; defaults are opinionated.</li><li>No multi‑collection management scaffolding/UI; defining, adding, and removing collections follow the same manual, schema‑based pattern and are out of scope.</li><li>Over‑engineered changes that add complexity without clear day‑to‑day value are likely to be declined.</li></ul><p>Note: The items above are illustrative rather than exhaustive; they include—but are not limited to—the examples listed here.</p><p>Bug fixes and small, focused improvements are welcome. For non‑trivial changes, please open a Discussion first to confirm fit. If a proposal is declined due to project philosophy or scope, the author may—at their discretion—offer pointers to relevant files/modules, high‑level direction, or suggested edits to help you implement the change yourself; this is a best‑effort courtesy, not an obligation. If the current direction doesn’t meet your needs, feel free to fork under the LICENSE.</p></div><footer class="border-line/50 border-t pt-12"><nav><div class="gap-12 grid grid-cols-2 max-lg:gap-8 max-lg:grid-cols-1"><a href=/post/README-zh.md class="overflow-hidden bg-surface border-line block border-2 duration-300 ease-out group hover:border-primary hover:shadow-2xl max-lg:p-3 p-4 relative rounded-2xl shadow-md transform transition-transform hover:-translate-x-1" id=pageprev><div class="flex items-center gap-3 mb-3"><span class="flex items-center justify-center flex-shrink-0 bg-hover duration-200 group-hover:scale-110 h-10 rounded-full transition-transform w-10"><span class=text-primary><svg fill=currentColor height=1.25rem viewBox="0 0 256 256" width=1.25rem xmlns=http://www.w3.org/2000/svg><path d=M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z></path></svg></span></span><div class=flex-1><span class="text-xs text-secondary font-medium tracking-wider uppercase">上一篇</span><div class="text-xs mt-0.5 text-secondary/70">2025-10-06</div></div></div><h1 class="mb-2 duration-200 font-semibold group-hover:text-link text-primary text-xl transition-colors">中文 README</h1><p class="text-xs text-secondary leading-relaxed line-clamp-2 mb-2">Modern blog Chinese README</p></a><a href=/post/test-toc-levels class="overflow-hidden bg-surface border-line block border-2 duration-300 ease-out group hover:border-primary hover:shadow-2xl max-lg:p-3 p-4 relative rounded-2xl shadow-md transform transition-transform hover:translate-x-1" id=pagenext><div class="flex items-center gap-3 mb-3 flex-row-reverse"><span class="flex items-center justify-center flex-shrink-0 bg-hover duration-200 group-hover:scale-110 h-10 rounded-full transition-transform w-10"><span class=text-primary><svg fill=currentColor height=1.25rem viewBox="0 0 256 256" width=1.25rem xmlns=http://www.w3.org/2000/svg><path d=M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z></path></svg></span></span><div class="flex-1 text-right"><span class="text-xs text-secondary font-medium tracking-wider uppercase">下一篇</span><div class="text-xs mt-0.5 text-secondary/70">2025-09-21</div></div></div><h1 class="mb-2 duration-200 font-semibold group-hover:text-link text-primary text-xl transition-colors">目录层级测试文章</h1><p class="text-xs text-secondary leading-relaxed line-clamp-2 mb-2">本文用于测试目录组件的层级显示效果，包含从 H1 到 H6 的所有标题层级。 ::more # 第一章：基础概念 这是第一个 H1 标题，通常作为主要章节。 ## 1.1 介绍与背景 这是 H2 标题，作为二级章节。 ### 1.1.1 历史发展 这是 H3 标题，展示三级层次。 #### 1.1.1.1 早期阶段 这是 H4 标题，更细致的分类。 #####...</p></a></div></nav></footer></article><section class="border-line border-t mt-12 pt-8"><script>(self.Astro||(self.Astro={})).load=async a=>{await(await a())()},window.dispatchEvent(new Event("astro:load"))</script><astro-island client=load component-export=default component-url=/_astro/comments.BM7fZchX.js opts={&quot;name&quot;:&quot;Comments&quot;,&quot;value&quot;:true} props={&quot;collection&quot;:[0,&quot;post&quot;]} renderer-url=/_astro/client.BHuAVbXb.js ssr uid=X5bAN await-children><div class=min-h-[20rem] id=comments-section><giscus-widget category=Announcements categoryId=DIC_kwDOPgBpfM4CuTtG emitMetadata=0 inputPosition=top lang=zh-CN mapping=pathname reactionsEnabled=1 repo=loliblogs/discussion repoId=R_kgDOPgBpfA strict=0 theme=preferred_color_scheme></giscus-widget></div><!--astro:end--></astro-island></section></div><div class=mt-auto><footer class="border-line bg-surface border-t mt-3 pt-3 text-center text-muted text-xs"><div class="flex items-center justify-center flex-wrap gap-1"><span class="flex items-center gap-1"><svg fill=currentColor height=0.75rem viewBox="0 0 256 256" width=0.75rem xmlns=http://www.w3.org/2000/svg><path d=M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM96,128a32,32,0,0,0,57.6,19.2,8,8,0,0,1,12.8,9.61,48,48,0,1,1,0-57.62,8,8,0,0,1-12.8,9.61A32,32,0,0,0,96,128Z></path></svg> <span>2025</span> <span>loli&#39;s diary</span> </span><span><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M140,24V232a12,12,0,0,1-24,0V24a12,12,0,0,1,24,0Z></path></svg> </span><a href=https://astro.build class="text-muted hover:text-primary" target=_blank rel=noopener><span class=underline>Astro</span> </a><span><svg fill=currentColor height=0.75rem viewBox="0 0 256 256" width=0.75rem xmlns=http://www.w3.org/2000/svg><path d=M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z></path></svg></span><a href=https://github.com/loliblogs/Refined class="text-muted hover:text-primary" target=_blank rel=noopener><span class=underline>Refined</span> </a><span><svg fill=currentColor height=1rem viewBox="0 0 256 256" width=1rem xmlns=http://www.w3.org/2000/svg><path d=M140,24V232a12,12,0,0,1-24,0V24a12,12,0,0,1,24,0Z></path></svg> </span><a href="https://icp.gov.moe/?keyword=20236898" class="text-muted hover:text-primary" target=_blank><span class=underline>萌ICP备20236898号</span></a></div></footer></div></div><astro-island client=idle component-export=default component-url=/_astro/MediumZoom.BaN2Se_r.js opts={&quot;name&quot;:&quot;MediumZoom&quot;,&quot;value&quot;:true} props={} renderer-url=/_astro/client.BHuAVbXb.js ssr uid=HdsD9></astro-island><astro-island client=idle component-export=default component-url=/_astro/PageScrollManager.DukIY6cv.js opts={&quot;name&quot;:&quot;PageScrollManager&quot;,&quot;value&quot;:true} props={} renderer-url=/_astro/client.BHuAVbXb.js ssr uid=ZdTQfK></astro-island></div></main><script>!function(){const e="animate-[fade-out-up_0.2s_ease-out_forwards]";document.addEventListener("astro:before-preparation",()=>{const t=document.getElementById("aside-inner"),n=document.getElementById("content");t?.classList.add(e),n?.classList.add(e)})}()</script></body></html>